{"ast":null,"code":"import _regeneratorRuntime from\"/Users/motaocao/Analog_Project/github_repo_frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/motaocao/Analog_Project/github_repo_frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/motaocao/Analog_Project/github_repo_frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/motaocao/Analog_Project/github_repo_frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/motaocao/Analog_Project/github_repo_frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/motaocao/Analog_Project/github_repo_frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import\"./styles.css\";import React from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.state={usernameList:[],username:\"\",repos:[]};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,usernameList;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('http://127.0.0.1:8000/usernames');case 3:res=_context.sent;_context.next=6;return res.json();case 6:usernameList=_context.sent;this.setState({usernameList:usernameList});_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,this,[[0,10]]);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"getRepos\",value:function(){var _getRepos=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(username){var res,reposList;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch('http://127.0.0.1:8000/repos/'+username);case 3:res=_context2.sent;_context2.next=6;return res.json();case 6:reposList=_context2.sent;this.setState({repos:reposList});_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 13:case\"end\":return _context2.stop();}}},_callee2,this,[[0,10]]);}));function getRepos(_x){return _getRepos.apply(this,arguments);}return getRepos;}()},{key:\"handleOnChange\",value:function(){var _handleOnChange=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(position){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:this.setState({username:this.state.usernameList[position]});this.getRepos(this.state.usernameList[position]);case 2:case\"end\":return _context3.stop();}}},_callee3,this);}));function handleOnChange(_x2){return _handleOnChange.apply(this,arguments);}return handleOnChange;}()},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"GitHub Repository\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"contents\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"username\",children:\"Usernames:\"}),this.state.usernameList.map(function(name,index){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"usernames-list-item\",children:/*#__PURE__*/_jsx(\"div\",{className:\"username_button\",children:/*#__PURE__*/_jsx(\"input\",{type:\"button\",id:\"custom-checkbox-\".concat(index),name:name,value:name,onClick:function onClick(){return _this2.handleOnChange(index);}})})})},index);}),/*#__PURE__*/_jsx(\"div\",{className:\"username\",children:\"Selected username:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"username_display\",children:this.state.username}),/*#__PURE__*/_jsx(\"div\",{className:\"repository_list\",children:\"Repository List:\"}),this.state.repos.map(function(name,index){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"repos-list-item\",children:/*#__PURE__*/_jsx(\"div\",{children:name})})},index);})]})]});}}]);return App;}(React.Component);export default App;","map":{"version":3,"names":["React","App","props","state","usernameList","username","repos","fetch","res","json","setState","console","log","reposList","position","getRepos","map","name","index","handleOnChange","Component"],"sources":["/Users/motaocao/Analog_Project/github_repo_frontend/src/App.js"],"sourcesContent":["import \"./styles.css\";\nimport React from \"react\"\n\nclass App extends React.Component {\n  constructor(props) {\n  super(props);\n  this.state = {\n    usernameList: [],\n    username: \"\",\n    repos: [],\n    };\n}\n\n  async componentDidMount() {\n    try {\n      const res = await fetch('http://127.0.0.1:8000/usernames');\n      const usernameList = await res.json();\n      this.setState({usernameList: usernameList});\n    } catch (e) {\n      console.log(e);\n  }\n  }\n\n  async getRepos(username) {\n    try {\n      const res = await fetch('http://127.0.0.1:8000/repos/' + username);\n      const reposList = await res.json();\n      this.setState({repos: reposList});\n    } catch (e) {\n      console.log(e);\n  }\n  };\n\n  async handleOnChange(position) {\n   this.setState({username: this.state.usernameList[position]});\n   this.getRepos(this.state.usernameList[position]);\n };\n\n  render() {\n    return (\n      <div className=\"App\">\n      <h3>GitHub Repository</h3>\n\n      <ul className=\"contents\">\n        <div className=\"username\">Usernames:</div>\n        {this.state.usernameList.map((name, index) => {\n          return (\n            <li key={index}>\n              <div className=\"usernames-list-item\">\n                <div className=\"username_button\">\n                  <input\n                    type=\"button\"\n                    id={`custom-checkbox-${index}`}\n                    name={name}\n                    value={name}\n                    onClick={() => this.handleOnChange(index)}\n                  />\n                </div>\n              </div>\n            </li>\n          );\n        })}\n        <div className=\"username\">Selected username:</div>\n        <div className=\"username_display\">{this.state.username}</div>\n        <div className=\"repository_list\">Repository List:</div>\n        {this.state.repos.map((name, index) => {\n          return (\n            <li key={index}>\n              <div className=\"repos-list-item\">\n                  <div>{name}</div>\n              </div>\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n    )\n  }\n}\n\nexport default App;\n"],"mappings":"szBAAA,MAAO,cAAc,CACrB,MAAOA,MAAK,KAAM,OAAO,4FAEnBC,IAAG,sGACP,aAAYC,KAAK,CAAE,qCACnB,uBAAMA,KAAK,EACX,MAAKC,KAAK,CAAG,CACXC,YAAY,CAAE,EAAE,CAChBC,QAAQ,CAAE,EAAE,CACZC,KAAK,CAAE,EACP,CAAC,CAAC,aACN,CAAC,6IAEC,gMAEsBC,MAAK,CAAC,iCAAiC,CAAC,QAApDC,GAAG,qCACkBA,IAAG,CAACC,IAAI,EAAE,QAA/BL,YAAY,eAClB,IAAI,CAACM,QAAQ,CAAC,CAACN,YAAY,CAAEA,YAAY,CAAC,CAAC,CAAC,iFAE5CO,OAAO,CAACC,GAAG,aAAG,CAAC,qEAElB,wNAED,kBAAeP,QAAQ,kLAEDE,MAAK,CAAC,8BAA8B,CAAGF,QAAQ,CAAC,QAA5DG,GAAG,uCACeA,IAAG,CAACC,IAAI,EAAE,QAA5BI,SAAS,gBACf,IAAI,CAACH,QAAQ,CAAC,CAACJ,KAAK,CAAEO,SAAS,CAAC,CAAC,CAAC,qFAElCF,OAAO,CAACC,GAAG,cAAG,CAAC,uEAElB,2MAED,kBAAqBE,QAAQ,wHAC5B,IAAI,CAACJ,QAAQ,CAAC,CAACL,QAAQ,CAAE,IAAI,CAACF,KAAK,CAACC,YAAY,CAACU,QAAQ,CAAC,CAAC,CAAC,CAC5D,IAAI,CAACC,QAAQ,CAAC,IAAI,CAACZ,KAAK,CAACC,YAAY,CAACU,QAAQ,CAAC,CAAC,CAAC,6DAClD,6HAEA,iBAAS,iBACP,mBACE,aAAK,SAAS,CAAC,KAAK,wBACpB,yCAA0B,cAE1B,YAAI,SAAS,CAAC,UAAU,wBACtB,YAAK,SAAS,CAAC,UAAU,wBAAiB,CACzC,IAAI,CAACX,KAAK,CAACC,YAAY,CAACY,GAAG,CAAC,SAACC,IAAI,CAAEC,KAAK,CAAK,CAC5C,mBACE,iCACE,YAAK,SAAS,CAAC,qBAAqB,uBAClC,YAAK,SAAS,CAAC,iBAAiB,uBAC9B,cACE,IAAI,CAAC,QAAQ,CACb,EAAE,2BAAqBA,KAAK,CAAG,CAC/B,IAAI,CAAED,IAAK,CACX,KAAK,CAAEA,IAAK,CACZ,OAAO,CAAE,yBAAM,OAAI,CAACE,cAAc,CAACD,KAAK,CAAC,EAAC,EAC1C,EACE,EACF,EAXCA,KAAK,CAYT,CAET,CAAC,CAAC,cACF,YAAK,SAAS,CAAC,UAAU,gCAAyB,cAClD,YAAK,SAAS,CAAC,kBAAkB,UAAE,IAAI,CAACf,KAAK,CAACE,QAAQ,EAAO,cAC7D,YAAK,SAAS,CAAC,iBAAiB,8BAAuB,CACtD,IAAI,CAACF,KAAK,CAACG,KAAK,CAACU,GAAG,CAAC,SAACC,IAAI,CAAEC,KAAK,CAAK,CACrC,mBACE,iCACE,YAAK,SAAS,CAAC,iBAAiB,uBAC5B,qBAAMD,IAAI,EAAO,EACf,EAHCC,KAAK,CAIT,CAET,CAAC,CAAC,GACC,GACD,CAER,CAAC,iBA1EelB,KAAK,CAACoB,SAAS,EA6EjC,cAAenB,IAAG"},"metadata":{},"sourceType":"module"}